{% extends 'layout.html' %}

{% block title %}
    Create New Post - SocialHub
{% endblock %}

{% block content %}
    <div class="page-header">
        <h1>Create New Post</h1>
        <p class="page-subtitle">Share your thoughts with the community</p>
    </div>

    <section class="create-post-section">
        <div class="form-container">
            <form class="form-with-validation" action="{% url 'posts:new-post' %}" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="{{ form.title.id_for_label }}" class="form-label">
                        <span class="label-icon">üìù</span>
                        Post Title
                    </label>
                    {{ form.title }}
                    {% if form.title.help_text %}
                        <div class="helptext">{{ form.title.help_text }}</div>
                    {% endif %}
                    {% if form.title.errors %}
                        <div class="errorlist">{{ form.title.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.body.id_for_label }}" class="form-label">
                        <span class="label-icon">üí≠</span>
                        Post Content
                    </label>
                    {{ form.body }}
                    {% if form.body.help_text %}
                        <div class="helptext">{{ form.body.help_text }}</div>
                    {% endif %}
                    {% if form.body.errors %}
                        <div class="errorlist">{{ form.body.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.banner.id_for_label }}" class="form-label">
                        <span class="label-icon">üñºÔ∏è</span>
                        Banner Image (Optional)
                    </label>
                    <div class="file-upload-container">
                        {{ form.banner }}
                        <div class="file-upload-info">
                            <p>Upload an image to make your post stand out</p>
                            <p class="file-requirements">Supported formats: JPG, PNG, GIF (Max 5MB)</p>
                        </div>
                    </div>
                    {% if form.banner.help_text %}
                        <div class="helptext">{{ form.banner.help_text }}</div>
                    {% endif %}
                    {% if form.banner.errors %}
                        <div class="errorlist">{{ form.banner.errors }}</div>
                    {% endif %}
                </div>

                <div class="form-actions">
                    <button type="submit" class="form-submit" data-original-text="Create Post">
                        <span class="btn-icon">‚ú®</span>
                        <span class="btn-text">Create Post</span>
                    </button>
                    <a href="{% url 'posts:list' %}" class="btn-secondary">
                        <span class="btn-icon">‚Ü©Ô∏è</span>
                        <span class="btn-text">Cancel</span>
                    </a>
                </div>
            </form>
        </div>

        <div class="post-preview">
            <h3>Preview</h3>
            <div class="preview-card">
                <div class="preview-header">
                    <div class="preview-meta">
                        <span class="preview-author">üë§ {{ user.username }}</span>
                        <span class="preview-date">Just now</span>
                    </div>
                </div>
                <div class="preview-content">
                    <h4 class="preview-title" id="preview-title">Your post title will appear here</h4>
                    <p class="preview-body" id="preview-body">Your post content will appear here...</p>
                </div>
                <div class="preview-footer">
                    <div class="preview-stats">
                        <span class="preview-likes">‚ù§Ô∏è 0 likes</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}